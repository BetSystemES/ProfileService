syntax = "proto3";

option csharp_namespace = "ProfileService.GRPC";

package profile;

// The Profiler service definition.
service Profiler {

	rpc AddPersonalData (AddPersonalDataRequest) 
		returns (AddPersonalDataResponce);

  rpc GetPersonalDataById (GetPersonalDataByIdRequest) 
		returns (GetPersonalDataByIdResponce);

  rpc UpdatePersonalData (UpdatePersonalDataRequest) 
	returns (UpdatePersonalDataResponce);

	rpc AddDiscount (AddDiscountRequest) 
	returns (AddDiscountResponce);

  rpc GetDiscounts (GetDiscountsRequest) 
	returns (GetDiscountsResponce);

  rpc UpdateDiscount (UpdateDiscountRequest) 
	returns (UpdateDiscountResponce);
}	


message AddPersonalDataRequest{
	PersonalProfile personalprofile = 1;
}
message AddPersonalDataResponce{
	VoidResponce voidresponce = 1;
}

message GetPersonalDataByIdRequest{
	ProfileByIdRequest profilebyidrequest = 1;
}
message GetPersonalDataByIdResponce{
	PersonalProfile personalprofile = 1;
}

message UpdatePersonalDataRequest{
	PersonalProfile personalprofile = 1;
}
message UpdatePersonalDataResponce{
	ProfileByIdRequest profilebyidrequest = 1;
}

message AddDiscountRequest{
	Discount discount = 1;
}
message AddDiscountResponce{
	VoidResponce voidresponce = 1;
}

message GetDiscountsRequest{
	ProfileByIdRequest profilebyidrequest = 1;
}
message GetDiscountsResponce{
	repeated Discount discounts = 1;
}

message UpdateDiscountRequest{
	Discount discount = 1;
}
message UpdateDiscountResponce{
	VoidResponce voidresponce = 1;
}

// The request message containing the user's id.
message ProfileByIdRequest {
  string id = 1;
}

// The response message containing the PersonalProfile.
message PersonalProfile {
  string id = 1;
  string name = 2;
  string surname = 3;
  string phone = 4;
  string email = 5;
}


message VoidResponce {
}

enum DiscountType {
	DISCOUNT_TYPE_UNSPECIFIED =0;
	DISCOUNT_TYPE_AMOUNT = 1;
	DISCOUNT_TYPE_DISCOUNT = 2;
}

message Discount{
	string id = 1;
	bool isalreadyused = 2;
	DiscountType type = 3;
	double amount = 4;
	double discount = 5;	
}